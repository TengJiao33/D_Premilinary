

**多因子加权的空间物流模型**。考虑面积，区域特征、形状效率以及拓扑邻接关系。




## 1. 符号定义

为了保证模型的严谨性，首先定义所有变量：

| 符号 | 定义 | 单位/备注 |
| :--- | :--- | :--- |
| **下标** | | |
| $i, j$ | 曼哈顿行政区索引 ($i, j \in \{1, 2, ..., 12\}$) | MN01 - MN12 |
| **输入参数** | | |
| $A_i$ | 第 $i$ 个区域的地理面积 | |
| $\beta_i$ | **土地利用强度系数** | 无量纲 (特征因子) |
| $\theta_i$ | **形状效率因子** | $(0, 1]$ (形状因子) |
| $W_{total}$ | 纽约市每日垃圾总量 | Tons/day |
| $\lambda$ | 曼哈顿占全市垃圾量的比例系数 | 常数 ($\approx 0.2$) |
| $K$ | 单辆垃圾车的物理容量 | 12 Tons |
| $R$ | 单车每日最大往返次数 | Trips/day |
| **决策变量** | | |
| $f_i$ | 第 $i$ 个区域的每周回收频率 | $f_i \in \{2, 3\}$ |
| **中间变量** | | |
| $w_i$ | 第 $i$ 个区域每日产生的垃圾量 | Tons/day |
| $L_i$ | 第 $i$ 个区域单次服务日的垃圾负荷 | Tons/pickup |
| **输出变量** | | |
| $N_i$ | 独立模式下第 $i$ 区所需卡车数 | Integer |
| $N_{shared}$ | 共享模式下总卡车数 | Integer |

---

## 2. 垃圾产出空间分布模型

针对“仅用面积估算不准确”的问题，我们引入 **$\beta_i$ (土地利用强度)** 来修正模型。

### 假设
垃圾产生量不仅与面积相关，更取决于该区域的功能属性（商业区产废远高于住宅区或公园）。

### 公式
曼哈顿每日总垃圾量 $W_{MN} = W_{total} \times \lambda$。

第 $i$ 个区域的每日垃圾量 $w_i$ 定义为：

$$w_i = W_{MN} \times \frac{A_i \cdot \beta_i}{\sum_{k=1}^{12} (A_k \cdot \beta_k)}$$

其中 $\beta_i$ 根据区域特征矩阵定义：
* **Commercial Core (MN01, 05)**: $\beta \approx 3.0$ (高密度商业/餐饮)
* **Mixed Use (MN02, 04)**: $\beta \approx 2.0$
* **Residential (MN03, 06, 08-12)**: $\beta \approx 1.0$ (标准居住区)
* **Park Heavy (MN07)**: $\beta \approx 0.6$ (含中央公园，产废密度低)

---

## 3. 回收频率决策模型

针对题目要求的“决定哪些街区需要高频回收”，建立阈值判据。

### 判据
我们定义 **垃圾累积压力指数 (Waste Pressure Index)** $\rho_i$：

$$\rho_i = \frac{w_i}{A_i}$$

决策函数为：

$$
f_i =
\begin{cases}
3 \text{ (High Frequency)}, & \text{if } \rho_i > \rho_{threshold} \text{ or } \text{Type}_i = \text{Commercial} \\
2 \text{ (Standard)}, & \text{otherwise}
\end{cases}
$$

*解释：高商业密度区域（如时代广场、金融区）由于垃圾多且形象敏感，强制设为 3次/周。*

---

## 4. 考虑形状效率的运力需求模型

这是本模型的核心创新点。传统的模型假设卡车效率是恒定的，但实际上，狭长区域（MN12）或拥堵区域（MN01）的作业效率更低。

### 引入形状效率因子 $\theta_i$
* **$\theta_i$** 代表卡车在特定区域内的有效作业时间占比。
    * **规则网格 (MN05)**: $\theta \approx 0.95$ (High Efficiency)
    * **狭长不规则 (MN12)**: $\theta \approx 0.85$ (Higher Deadhead Time / 空驶时间长)
    * **拥堵老城 (MN01)**: $\theta \approx 0.75$ (Traffic Congestion)

### 计算单区需求 ($N_i$)
1.  **单次回收负荷 ($L_i$)**:
    $$L_i = \frac{w_i \times 7}{f_i}$$

2.  **有效单车日运力 ($C_{eff, i}$)**:
    $$C_{eff, i} = K \times R \times \theta_i$$

3.  **所需车辆数**:
    $$N_i = \left\lceil \frac{L_i}{C_{eff, i}} \right\rceil$$

---

## 5. 基于拓扑图论的共享优化模型

针对问题 "Can numbers be reduced by sharing?"，我们建立**图论模型**。

### 图的构建
定义无向图 $G = (V, E)$：
* $V = \{MN01, ..., MN12\}$ 为节点集合。
* $E = \{(i, j) | \text{Region } i \text{ is adjacent to } j\}$ 为边集合（基于几何邻接关系）。

### 闲置运力定义
对于每个区，独立调度时必然存在未被利用的“碎片运力”：
$$S_i = N_i - \frac{L_i}{C_{eff, i}}$$
($0 \le S_i < 1$，值越大表示浪费越严重)

### 优化目标
寻找一组互不重叠的**连通子图** 或 **社群** $\{C_1, C_2, ... C_m\}$，使得总车辆数最小化：

$$\min \sum_{k=1}^{m} N_{C_k} = \min \sum_{k=1}^{m} \left\lceil \frac{\sum_{j \in C_k} L_j}{K \cdot R \cdot \bar{\theta}_k} \right\rceil$$

其中约束条件为：
1.  **连通性约束**：同一组 $C_k$ 内的区域必须在图 $G$ 中连通（物理相邻）。
2.  **覆盖约束**：所有区域必须被分配到一个组中。

### 优化效果评估
$$\text{Savings} = \sum_{i=1}^{12} N_i - \sum_{k=1}^{m} N_{C_k}$$

